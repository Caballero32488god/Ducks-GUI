local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ScreenGui = Instance.new("ScreenGui")
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

local Window = Fluent:CreateWindow({
    Title = "Fluent GUI",
    SubTitle = "by dawid",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Dark",
})

-- Add Tabs
local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "home" }),
    Killer = Window:AddTab({ Title = "Killer", Icon = "skull" }),
    Settings = Window:AddTab({ Title = "Settings", Icon = "cog" }),
    Teleport = Window:AddTab({ Title = "Teleport", Icon = "map" }),
    PlayerStats = Window:AddTab({ Title = "Player Stats", Icon = "user" }), -- Player Stats Tab
}

-- Main Tab Content
local MainSection = Tabs.Main:AddSection("Main Controls")

-- Killer Tab Content
local KillerSection = Tabs.Killer:AddSection("Killer Controls")

-- Create the input box for set tool speed
KillerSection:AddInput("Set Tool Speed", {
    Title = "Tool Speed",
    Placeholder = "Enter speed value (e.g., 0.1)",
    Callback = function(value)
        -- Implement set tool speed functionality here
    end,
})

-- Teleport Tab Content
local TeleportSection = Tabs.Teleport:AddSection("Teleport Locations")
local teleportLocations = {
    ["Tiny Rock"] = Vector3.new(17, -1, 2106),
    ["Punching Rock"] = Vector3.new(-151, 0, 422),
    ["Large Rock"] = Vector3.new(166, 0, -152),
    ["Golden Rock"] = Vector3.new(311, -2, -594),
    ["Frozen Rock"] = Vector3.new(-2551, 0, -243),
    ["Mystic Rock"] = Vector3.new(2186, 0, 1250),
    ["Inferno Rock"] = Vector3.new(-7262, 0, -1259),
    ["Legend Rock"] = Vector3.new(4140, 987, -4089),
    ["Muscle King"] = Vector3.new(-8971, 27, -6061),
}

-- Dropdown for teleport locations
TeleportSection:AddDropdown("Teleport Locations", {
    Values = table.keys(teleportLocations),
    Callback = function(selectedLocation)
        local position = teleportLocations[selectedLocation]
        LocalPlayer.Character:SetPrimaryPartCFrame(CFrame.new(position))
    end,
})

-- Player Stats Tab Content
local PlayerStatsSection = Tabs.PlayerStats:AddSection("Get Player Stats")

-- Create the input box for username
PlayerStatsSection:AddInput("Enter Username", {
    Title = "Username",
    Placeholder = "Enter Username",
    Callback = function(username)
        local stats = getPlayerStats(username)
        if stats then
            createStatsGui(stats) -- Show the stats GUI
        else
            print("Player not found or has no stats.")
        end
    end,
})

-- Function to get player stats
local function getPlayerStats(username)
    local targetPlayer = game.Players:FindFirstChild(username)
    if targetPlayer then
        local leaderstats = targetPlayer:FindFirstChild("leaderstats")
        if leaderstats then
            local stats = {
                Kills = leaderstats:FindFirstChild("Kills") and leaderstats.Kills.Value or "N/A",
                Gems = leaderstats:FindFirstChild("Gems") and leaderstats.Gems.Value or "N/A",
                Brawls = leaderstats:FindFirstChild("Brawls") and leaderstats.Brawls.Value or "N/A",
                Rebirths = leaderstats:FindFirstChild("Rebirths") and leaderstats.Rebirths.Value or "N/A",
                Strength = leaderstats:FindFirstChild("Strength") and leaderstats.Strength.Value or "N/A",
                Durability = leaderstats:FindFirstChild("Durability") and leaderstats.Durability.Value or "N/A",
                Agility = leaderstats:FindFirstChild("Agility") and leaderstats.Agility.Value or "N/A"
            }
            return stats
        else
            print("Leaderstats not found for player: " .. username)
        end
    else
        print("Player not found: " .. username)
    end
    return nil
end

-- Function to create the stats GUI
local function createStatsGui(stats)
    -- Create the stats GUI
    local statsGui = Instance.new("ScreenGui")
    statsGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

    -- Create the main frame for the stats GUI
    local statsFrame = Instance.new("Frame")
    statsFrame.Size = UDim2.new(0.4, 0, 0.5, 0)
    statsFrame.Position = UDim2.new(0.3, 0, 0.25, 0)
    statsFrame.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
    statsFrame.Parent = statsGui

    -- Create a title for the stats
    local titleLabel = Instance.new("TextLabel")
    titleLabel.Size = UDim2.new(1, 0, 0.1, 0)
    titleLabel.Position = UDim2.new(0, 0, 0, 0)
    titleLabel.Text = "Player Stats"
    titleLabel.TextColor3 = Color3.new(1, 1, 1)
    titleLabel.BackgroundTransparency = 1
    titleLabel.TextScaled = true
    titleLabel.Parent = statsFrame

    -- Create a label for each stat with value counts
    local statIndex = 0
    for statName, value in pairs(stats) do
        statIndex += 1
        local displayValue = value
        if statName == "Durability" or statName == "Agility" or statName == "Gems" then
            displayValue = statName .. " Count: " .. tostring(value)
        end

        local statLabel = Instance.new("TextLabel")
        statLabel.Size = UDim2.new(1, 0, 0.1, 0)
        statLabel.Position = UDim2.new(0, 0, (statIndex) * 0.1, 0)
        statLabel.Text = statName .. ": " .. tostring(displayValue)
        statLabel.TextColor3 = Color3.new(1, 1, 1)
        statLabel.BackgroundTransparency = 1
        statLabel.TextScaled = true
        statLabel.Parent = statsFrame
    end

    -- Create a close button for the stats GUI
    local closeButton = Instance.new("TextButton")
    closeButton.Size = UDim2.new(0.9, 0, 0.2, 0)
    closeButton.Position = UDim2.new(0.05, 0, 0.85, 0)
    closeButton.Text = "Close Stats"
    closeButton.BackgroundColor3 = Color3.new(0.8, 0.1, 0.1) -- Red color
    closeButton.Parent = statsFrame

    -- Close button functionality
    closeButton.MouseButton1Click:Connect(function()
        statsGui:Destroy() -- Remove the stats GUI
    end)
end

-- Initialize GUI
ScreenGui.Parent = game.CoreGui
Window:SelectTab(1) -- Selects the first tab on open

print("GUI initialized successfully!")

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local ScreenGui = Instance.new("ScreenGui")
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local Window = Fluent:CreateWindow({
    Title = "Fluent GUI",
    SubTitle = "by dawid",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Dark",
})

-- Add Tabs
local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "home" }),
    Options = Window:AddTab({ Title = "Options", Icon = "settings" }),
    Killer = Window:AddTab({ Title = "Killer", Icon = "skull" }),
}

-- Main Tab Content
local MainSection = Tabs.Main:AddSection("Main Controls")
MainSection:AddInput("Speed", {
    Title = "Change Speed",
    Placeholder = "Enter Speed Value",
    Callback = function(value)
        local num = tonumber(value)
        if num then
            LocalPlayer.Character.Humanoid.WalkSpeed = num
        end
    end
})

MainSection:AddInput("Jump Power", {
    Title = "Change Jump Power",
    Placeholder = "Enter Jump Power Value",
    Callback = function(value)
        local num = tonumber(value)
        if num then
            LocalPlayer.Character.Humanoid.JumpPower = num
        end
    end
})

-- Killer Tab Content
local KillerSection = Tabs.Killer:AddSection("Killer Controls")

-- Dropdown for Player Selection
local selectedPlayers = {}
local playerDropdown = KillerSection:AddDropdown("Select Players to Ignore", {
    Title = "Ignore Players",
    Values = {}, -- Will be populated with player names
    Multi = true,
})

local function updatePlayerDropdown()
    local playerNames = {}
    for _, player in pairs(Players:GetPlayers()) do
        table.insert(playerNames, player.Name)
    end
    playerDropdown:SetValues(playerNames)
end

Players.PlayerAdded:Connect(updatePlayerDropdown)
Players.PlayerRemoving:Connect(updatePlayerDropdown)
updatePlayerDropdown()

-- Auto-Punch Toggle
local autoPunchToggle = KillerSection:AddToggle("Auto Punch", {
    Title = "Toggle Auto Punch",
    Default = false,
    Callback = function(state)
        punching = state
        if state then
            autoUseTool()
        end
    end
})

local function autoUseTool()
    local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    local tool = LocalPlayer.Backpack:FindFirstChild("Punch")

    if tool then
        humanoid:EquipTool(tool)

        while punching and tool.Parent == character do
            tool:Activate() -- Activate the tool
            wait(0.1) -- Adjust the wait time for punching speed
        end
    end
end

-- Initialize GUI
Window:SelectTab(1) -- Selects the first tab on open

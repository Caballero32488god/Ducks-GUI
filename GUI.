local player = game.Players.LocalPlayer
local Lighting = game:GetService("Lighting")

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Create Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 300, 0, 400)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -200)
mainFrame.BackgroundColor3 = Color3.new(1, 1, 1)
mainFrame.Parent = screenGui

-- Create Dropdown Button
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(0, 200, 0, 50)
dropdown.Position = UDim2.new(0.5, -100, 0.5, -100)
dropdown.Text = "Select Time of Day"
dropdown.Parent = mainFrame

-- Create Options Frame
local optionsFrame = Instance.new("Frame")
optionsFrame.Size = UDim2.new(0, 200, 0, 100)
optionsFrame.Position = UDim2.new(0.5, -100, 0.5, 10)
optionsFrame.Visible = false
optionsFrame.BackgroundColor3 = Color3.new(0.8, 0.8, 0.8)
optionsFrame.Parent = mainFrame

-- Create Time Buttons
local morningButton = Instance.new("TextButton")
morningButton.Size = UDim2.new(1, 0, 0, 30)
morningButton.Position = UDim2.new(0, 0, 0, 0)
morningButton.Text = "Morning"
morningButton.Parent = optionsFrame

local afternoonButton = Instance.new("TextButton")
afternoonButton.Size = UDim2.new(1, 0, 0, 30)
afternoonButton.Position = UDim2.new(0, 0, 0, 35)
afternoonButton.Text = "Afternoon"
afternoonButton.Parent = optionsFrame

local nightButton = Instance.new("TextButton")
nightButton.Size = UDim2.new(1, 0, 0, 30)
nightButton.Position = UDim2.new(0, 0, 0, 70)
nightButton.Text = "Night"
nightButton.Parent = optionsFrame

-- Functions to Set Time of Day
local function setMorning()
    Lighting.TimeOfDay = "06:30:00"
    optionsFrame.Visible = false
end

local function setAfternoon()
    Lighting.TimeOfDay = "12:00:00"
    optionsFrame.Visible = false
end

local function setNight()
    Lighting.TimeOfDay = "21:00:00"
    optionsFrame.Visible = false
end

-- Connect Time Buttons to Functions
morningButton.MouseButton1Click:Connect(setMorning)
afternoonButton.MouseButton1Click:Connect(setAfternoon)
nightButton.MouseButton1Click:Connect(setNight)

-- Toggle Dropdown Options
dropdown.MouseButton1Click:Connect(function()
    optionsFrame.Visible = not optionsFrame.Visible
end)

-- Create Other Buttons
local resetButton = Instance.new("TextButton")
resetButton.Size = UDim2.new(0, 200, 0, 50)
resetButton.Position = UDim2.new(0.5, -100, 0.5, 100)
resetButton.Text = "Reset Position"
resetButton.Parent = mainFrame

local killButton = Instance.new("TextButton")  -- Button labeled as Kill, but no function yet
killButton.Size = UDim2.new(0, 200, 0, 50)
killButton.Position = UDim2.new(0.5, -100, 0.5, 160)
killButton.Text = "Kill"
killButton.Parent = mainFrame

-- Reset Position Function
local function resetPosition()
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.Position = Vector3.new(0, 10, 0) -- Change to desired position
    end
end

resetButton.MouseButton1Click:Connect(resetPosition)

-- Close Dropdown if clicked outside (optional)
screenGui.MouseButton1Click:Connect(function()
    if optionsFrame.Visible then
        optionsFrame.Visible = false
    end
end)

optionsFrame.MouseButton1Click:Connect(function()
    optionsFrame.Visible = true
end)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

local isTeleporting = false
local teleportCoroutine

-- Function to teleport Muscle King Mountain to the player's hand
local function teleportMuscleKingMountain()
    local machinesFolder = game.Workspace:FindFirstChild("machinesFolder")
    if not machinesFolder then
        warn("machinesFolder not found!")
        return
    end

    local muscleKingMountain = machinesFolder:FindFirstChild("Muscle King Mountain")
    if not muscleKingMountain then
        warn("Muscle King Mountain not found!")
        return
    end

    -- Find the specific MeshPart inside Muscle King Mountain
    local mountainPart = muscleKingMountain:FindFirstChildOfClass("MeshPart") -- Adjust if necessary

    if mountainPart then
        -- Make the Muscle King Mountain part transparent and non-collidable
        mountainPart.Transparency = 1 -- Fully transparent
        mountainPart.CanCollide = false -- Prevent collisions
        mountainPart.Size = Vector3.new(10, 10, 10) -- Set size to 10, 10, 10

        isTeleporting = true

        -- Continuous teleport to the player's hand
        teleportCoroutine = coroutine.create(function()
            while isTeleporting do
                if character and character.PrimaryPart then
                    local rightHand = character:FindFirstChild("RightHand")
                    if rightHand then
                        -- Teleport the muscle mountain to the right hand position
                        muscleKingMountain:SetPrimaryPartCFrame(rightHand.CFrame * CFrame.new(0, 0, -1)) -- Adjust position in front of the hand
                    end
                end
                wait(0) -- Wait 0 seconds (effectively every frame)
            end
        end)

        coroutine.resume(teleportCoroutine)
    else
        warn("MeshPart not found in Muscle King Mountain!")
    end
end

-- Function to stop teleportation
local function stopTeleportation()
    isTeleporting = false
end

-- Function to handle chat commands
local function onChatted(message)
    if message:lower() == "/j" then
        teleportMuscleKingMountain()
    elseif message:lower() == "/k" then
        stopTeleportation()
    end
end

-- Connect the chat command
player.Chatted:Connect(onChatted)

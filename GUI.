local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
local button = script.Parent

local function teleportPlayers()
    for _, otherPlayer in pairs(game.Players:GetPlayers()) do
        if otherPlayer ~= player then
            local otherCharacter = otherPlayer.Character
            if otherCharacter and otherCharacter:FindFirstChild("HumanoidRootPart") then
                local targetHRP = otherCharacter.HumanoidRootPart
                
                -- Calculate teleport position: in front of the local player
                local teleportPosition = humanoidRootPart.Position + (humanoidRootPart.CFrame.LookVector * 5) -- 5 studs in front
                teleportPosition = Vector3.new(teleportPosition.X, teleportPosition.Y + 50, teleportPosition.Z) -- 50 studs above

                -- Teleport the player's character
                targetHRP.CFrame = CFrame.new(teleportPosition)
            end
        end
    end
end

button.MouseButton1Click:Connect(teleportPlayers)

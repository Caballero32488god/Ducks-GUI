local Players = game:GetService("Players")
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
local Window = OrionLib:MakeWindow({Name = "Game Hacks", HidePremium = false, SaveConfig = true, ConfigFolder = "OrionTest"})

-- Main Tab
local MainTab = Window:MakeTab({
	Name = "Main",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

-- Speed Input
MainTab:AddTextbox({
	Name = "Speed",
	Default = "16",
	TextDisappear = false,
	Callback = function(Value)
		local speedValue = tonumber(Value) or 16
		for _, player in ipairs(Players:GetPlayers()) do
			local character = player.Character
			if character then
				local humanoid = character:FindFirstChildOfClass("Humanoid")
				if humanoid then
					humanoid.WalkSpeed = speedValue
				end
			end
		end
	end
})

-- Jump Power Input
MainTab:AddTextbox({
	Name = "Jump Power",
	Default = "50",
	TextDisappear = false,
	Callback = function(Value)
		local jumpPowerValue = tonumber(Value) or 50
		for _, player in ipairs(Players:GetPlayers()) do
			local character = player.Character
			if character then
				local humanoid = character:FindFirstChildOfClass("Humanoid")
				if humanoid then
					humanoid.JumpPower = jumpPowerValue
				end
			end
		end
	end
})

-- Gravity Input
MainTab:AddTextbox({
	Name = "Gravity",
	Default = "196.2",
	TextDisappear = false,
	Callback = function(Value)
		local gravityValue = tonumber(Value) or 196.2
		workspace.Gravity = gravityValue
	end
})

-- Time of Day Selector
MainTab:AddDropdown({
	Name = "Time of Day",
	Default = "Morning",
	Options = {"Morning", "Afternoon", "Evening", "Night"},
	Callback = function(Value)
		if Value == "Morning" then
			game.Lighting.TimeOfDay = "06:00:00"
		elseif Value == "Afternoon" then
			game.Lighting.TimeOfDay = "12:00:00"
		elseif Value == "Evening" then
			game.Lighting.TimeOfDay = "18:00:00"
		elseif Value == "Night" then
			game.Lighting.TimeOfDay = "00:00:00"
		end
	end
})

-- Rebirths Tab
local RebirthTab = Window:MakeTab({
	Name = "Rebirths",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

-- Manual Rebirth Button
RebirthTab:AddButton({
	Name = "Manual Rebirth",
	Callback = function()
		local args = {
			[1] = "rebirthRequest"
		}
		game:GetService("ReplicatedStorage").rEvents.rebirthRemote:InvokeServer(unpack(args))
		showNotification("Manual rebirth executed.")
	end
})

-- Killer Tab
local KillerTab = Window:MakeTab({
	Name = "Killer",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

local selectedTarget = nil -- Variable to store the selected target
local killAuraActive = false -- Kill aura state

-- Target Selector Dropdown
KillerTab:AddDropdown({
	Name = "Select Target",
	Default = "None",
	Options = {}, -- This will be populated with player names
	Callback = function(Value)
		selectedTarget = Value -- Store the selected target
	end
})

-- Function to update the dropdown options with current players
local function updateTargetDropdown()
	local playerNames = {}
	for _, player in ipairs(Players:GetPlayers()) do
		if player.Name ~= Players.LocalPlayer.Name then -- Exclude self
			table.insert(playerNames, player.Name)
		end
	end
	KillerTab:UpdateDropdown("Select Target", playerNames) -- Update the dropdown
end

-- Kill Aura Toggle
KillerTab:AddToggle({
	Name = "Kill Aura",
	Default = false,
	Callback = function(Value)
		killAuraActive = Value
		if killAuraActive then
			while killAuraActive do
				wait(0.5) -- Check every half second
				local range = 10 -- Radius for the kill aura
				for _, player in ipairs(Players:GetPlayers()) do
					if player ~= Players.LocalPlayer and player.Character then
						local character = player.Character
						if (character.PrimaryPart.Position - Players.LocalPlayer.Character.PrimaryPart.Position).magnitude <= range then
							-- Perform action on the target player (e.g., "kill" logic)
							character:BreakJoints() -- This will "kill" the player
						end
					end
				end
			end
		end
	end
})

-- Action Button
KillerTab:AddButton({
	Name = "Attack Target",
	Callback = function()
		if selectedTarget then
			local targetPlayer = Players:FindFirstChild(selectedTarget)
			if targetPlayer and targetPlayer.Character then
				targetPlayer.Character:BreakJoints() -- This will "kill" the target player
				showNotification("Attacked " .. selectedTarget)
			else
				showNotification("Target not found.")
			end
		else
			showNotification("No target selected.")
		end
	end
})

-- Function to show notifications
local function showNotification(message)
	local notification = Instance.new("ScreenGui")
	local label = Instance.new("TextLabel")
	notification.Name = "Notification"
	label.Text = message
	label.Size = UDim2.new(0, 300, 0, 50)
	label.Position = UDim2.new(0.5, -150, 0.5, -25)
	label.BackgroundColor3 = Color3.new(1, 1, 1)
	label.TextColor3 = Color3.new(0, 0, 0)
	label.Parent = notification
	notification.Parent = game.CoreGui
	wait(3) -- Show for 3 seconds
	notification:Destroy()
end

-- Update the dropdown when the script runs
updateTargetDropdown()

-- Update dropdown when players join or leave
Players.PlayerAdded:Connect(updateTargetDropdown)
Players.PlayerRemoving:Connect(updateTargetDropdown)

-- Finalize the UI
OrionLib:Init()

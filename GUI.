local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

local isTeleporting = false
local teleportCoroutine

-- Function to teleport Muscle King Mountain to the player's position
local function teleportMuscleKingMountain()
    local machinesFolder = game.Workspace:FindFirstChild("machinesFolder")
    if not machinesFolder then
        warn("machinesFolder not found!")
        return
    end

    local muscleKingMountain = machinesFolder:FindFirstChild("Muscle King Mountain")
    if not muscleKingMountain then
        warn("Muscle King Mountain not found!")
        return
    end

    -- Make the Muscle King Mountain transparent and non-collidable
    muscleKingMountain.Transparency = 1
    muscleKingMountain.CanCollide = false

    isTeleporting = true

    -- Continuous teleport to the player's position
    teleportCoroutine = coroutine.create(function()
        while isTeleporting do
            if character and character.PrimaryPart then
                muscleKingMountain:SetPrimaryPartCFrame(character.PrimaryPart.CFrame * CFrame.new(0, 2, 0))
            end
            wait(0) -- Wait 0 seconds (effectively every frame)
        end
    end)

    coroutine.resume(teleportCoroutine)
end

-- Function to stop teleportation
local function stopTeleportation()
    isTeleporting = false
end

-- Function to handle chat commands
local function onChatted(message)
    if message:lower() == "/j" then
        teleportMuscleKingMountain()
    elseif message:lower() == "/k" then
        stopTeleportation()
    end
end

-- Connect the chat command
player.Chatted:Connect(onChatted)
